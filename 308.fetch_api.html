<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Fetch API</title>
</head>
<body>
Fetch API <br>
• Fetch API merupakan fitur baru sebagai alternatif AJAX <br>
• Saat menggunakan AJAX, kita perlu menggunakan Callback untuk menerima response atau data
dari Server, sedangkan Fetch API sudah menggunakan Promise, sehingga penggunaan Fetch API
lebih mudah dibandingkan AJAX <br>
• Hampir semua browser modern sekarang sudah mendukung menggunakan Fetch API <br>
• Apa yang bisa kita lakukan di AJAX, bisa juga kita lakukan di Fetch API <br>
• https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API <br> <br>

Request <br>
• Saat kita akan mengirim request menggunakan Fetch API, kita perlu membuat object Request <br>
• Hal ini menjadi lebih rapi dibandingkan menggunakan AJAX <br>
• Kita bisa membuat object Request, lalu dikirim menggunakan Fetch API <br>
Dan saat membuat Request, kita bisa menentukan data yang ingin kita kirim <br>
• https://developer.mozilla.org/en-US/docs/Web/API/Request/Request <br>
<br><br>
Response <br>
• Hasil dari Fetch API adalah sebuah Promise <br>
• Promise tersebut berisikan obiect Response <br>
• Ada banyak property dan method pada object Response, kita bisa menggunakannya sesuai dengan
yang kita butuhkan <br>
• https:/developer.mozilla.org/en-US/docs/Web/API/Response <br>
<div id="error"></div>
</body>
<script>

    const post = new Request('https://jsonplaceholder.typicode.com/posts', {
        method : 'POST',
        headers : {
            'Content-Type' : 'application/json',
            'Accept' : 'application/json'
        },
        body : JSON.stringify({
            title : 'Hello world',
            body : 'Hello from earth'
        })
    });

    // Promise<Response>
    const response = fetch(post)
    response.then((response) => {
        console.log(response);
    }).catch((error) => {
        document.getElementById('error').textContent = `Terjadi Kesalahan : ${error}`;
    }).finally(() => {
        console.log('POST data telah dieksekusi')
    });

    // Fetch tanpa object Request
    const fetchApi = fetch('https://jsonplaceholder.typicode.com/posts', {
       method : 'GET',
        headers : {
            'Content-Type' : 'application/json',
            'Accept' : 'application/json'
        }
    });

    console.info(fetchApi)

    // Response
    fetchApi
            .then((response) => response.json())
            .then((json) => {
                console.log(json);
            }).catch((error) => {
               console.log(`Terjadi Kesalahan : ${error}`)
            }).finally(() => {
                console.info('Fetch API telah dieksekusi')
            });
</script>
</html>